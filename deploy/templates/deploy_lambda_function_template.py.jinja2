{#
 # Copyright (c) 2017 Dustin Doloff
 # Licensed under Apache License v2.0
 #}

######################################################
######################################################
########______________________________________  ######
#######/                                     /\  #####
######/                                     /..\  ####
#####/  AUTO-GENERATED FILE. DO NOT EDIT   /....\  ###
####/                                     /______\  ##
###/_____________________________________/############
######################################################
######################################################

import os
import subprocess

def main():
    subprocess.check_call([
        os.path.join('external', 'rules_web', 'deploy', 'lambda_function_deploy'),
            '--function-name', '''{{ function_name }}''',
            '--function-handler', '''{{ function_handler }}''',
            '--function-role', '''{{ function_role }}''',
            '--function-runtime', '''{{ function_runtime }}''',
            '--function-zip', '''{{ function_zip }}''',
            {% if region %}
                '--region', '''{{ region }}''',
            {% endif %}
            {% if memory %}
                '--memory', '''{{ memory }}''',
            {% endif %}
            {% if timeout %}
                '--timeout', '''{{ timeout }}''',
            {% endif %}
            {% if environment %}
                '--environment', '''{{ environment | tojson }}''',
            {% endif %}
        ]
    )
if __name__ == '__main__':
    main()

